/* Copyright 2024 Securly, Inc. All rights reserved. */
!function(){var e=!1,n='\n    <div class="need-help-wrapper">\n        <a class="need-help-text-button">I need help</a>\n    </div>\n  ',t=`\n        <div class="well-path-widget">\n            <div class="well-path-widget-row">\n                <div class="well-path-widget-header">{header}</div>\n                <div class="well-path-widget-close">\n                    <img src="{close_btn_src}" />\n                </div>\n            </div>\n            <div class="well-path-widget-row">\n                <div class="well-path-widget-body">{body}</div>\n                <div class="well-path-widget-links">{links}</div>\n            </div>\n        </div>\n        ${n}\n    `;let l=' \n    <div class="need-help-wrapper">\n        <div class="need-help-text">I need help</div>\n        <div class="need-help-form-section">\n          <textarea id="need-help-inputbox" rows="5" maxlength="150" placeholder="Briefly describe the problem or concern" class="need-help-input"></textarea>\n          <div class="need-help-cta-wrapper">\n            <button class="disabled-button">Submit</button>\n            <button class="cancel-button">Cancel</button>\n          </div>\n        </div>\n    </div>';const a='\n                <div class="need-help-success-message">\n                    <div class="need-help-text">I need help</div>\n                    <div style="display: flex; align-items: center;">\n                        <img style="width: 35px;background-blend-mode: color-burn;margin-right: 5px;" src=" https://imagedelivery.net/5MYSbk45M80qAwecrlKzdQ/14482c72-ccfc-40e1-e4ba-4ea6b8c5c700/preview" alt="done"/>\n                        <p class="need-help-text">Your request has been submitted</p>\n                    </div>\n                </div>\n            ';var o,d,r='<div class="well-path-widget-link-row">{links}</div>',p='<div class="well-path-widget-link-wrap"><span data-href="{href}">{label}</span></div>',s=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent.replace(/'/g,"&#39;").replace(/"/g,"&quot;")},c=function(){o.remove(),document.removeEventListener("click",w)},w=function(e){if("span"==e.target.nodeName.toLowerCase()&&-1!=e.target.parentElement.className.indexOf("well-path-widget-link-wrap")){const n=e.target.dataset.href;n.startsWith("mailto:")?window.location.href=n:window.open(n),chrome.runtime.sendMessage({source:"well-path-widget",action:"ctaClicked",label:e.target.innerText,link:e.target.dataset.href.replace("mailto:","")})}"img"==e.target.nodeName.toLowerCase()&&-1!=e.target.parentElement.className.indexOf("well-path-widget-close")&&(chrome.runtime.sendMessage({source:"well-path-widget",action:"closed"}),c()),function(e){let t=void 0;switch(!0){case"button"==e.target.nodeName.toLowerCase()&&"cancel-button"===e.target.className:const i=document.querySelector(".need-help-wrapper");(t=document.createElement("div")).innerHTML=n,i.parentNode.replaceChild(t,i);break;case"a"===e.target.nodeName.toLowerCase()&&"need-help-text-button"===e.target.className:const o=document.createElement("div");o.innerHTML=l;const d=o.querySelector(".need-help-wrapper").innerHTML;(t=document.createElement("div")).setAttribute("class","need-help-wrapper"),t.innerHTML=d;const r=document.querySelector(".need-help-wrapper");r.parentNode.replaceChild(t,r);break;case"button"==e.target.nodeName.toLowerCase()&&"submit-button"===e.target.className:const p=document.querySelector(".need-help-input").value;if(""!=p){chrome.runtime.sendMessage({source:"well-path-widget",action:"need-help-submitted",inputText:s(p)});const e=document.querySelector(".need-help-form-section");e.remove();const n=document.querySelector(".need-help-wrapper");n.innerHTML=a}}}(e),function(){const e=document.querySelector("#need-help-inputbox");if(e){const n=document.querySelector(".disabled-button");n&&e.addEventListener("input",()=>{e.value.trim().length>0?n.className="submit-button":n.className="disabled-button"})}}()};-1==window.location.href.indexOf("securly.com")&&function(){chrome.runtime.onMessage.addListener((l,a)=>{if("object"==typeof l&&void 0!==l.action&&void 0!==l.source&&"well-path-widget"==l.source)switch(l.action){case"display":if(void 0===l.data||e)return;!function(l){const a=l.data;(d=document.createElement("style")).textContent="\n        .well-path-widget-wrapper {\n            position: fixed;\n            top: 0;\n            left: 0;\n            /* max z-index i.e. 32 bit signed int*/\n            z-index: 2147483647; \n            /* specified again to counter any possible max z-index of website and ensure widget shows on top*/\n            z-index: 2147483648; \n            background-color: #ffffff;\n            width: 100%;\n            font-size: 13px;\n            font-family: Arial;\n            color: #333333;\n            display: block;\n            box-shadow: 0 2px 3px 0 #dbe6f0;\n        }\n\n        .need-help-text {\n            line-height: 22px;\n            font-weight: 600;\n            font-family: 'Metropolis Regular';\n            font-size: 13px;\n            color: grey;\n        }\n\n        .need-help-text-button{\n            cursor: pointer;\n            line-height: 22px;\n            font-weight: 600;\n            font-family: 'Metropolis Regular';\n            font-size: 13px;\n            color: #0273E7; \n        }\n\n        .need-help-input {\n            /* Add styles for the multiline textbox */\n            color: black;\n            font-family: 'Metropolis Regular';\n            width: 450px;\n            padding: 8px;\n            margin-top: 8px;\n            border: 2px solid lightblue;\n            border-radius: 4px;\n            resize: vertical; \n            background-color: white; \n        }\n\n        .need-help-wrapper {\n          background-color: #f2f2f2;\n          padding: 14px 15px;\n          text-align: left;\n        }\n\n        .disabled-button {\n          background-color: #ccc; /* Change the background color */\n          color: #999; /* Change the text color */\n          cursor: not-allowed; /* Change cursor style */\n          margin-top: 8px;\n          padding: 8px 25px;\n          border: none;\n          border-radius: 24px;\n          cursor: pointer;\n          margin-right: 8px;\n        }\n\n        .submit-button {\n            margin-top: 8px;\n            padding: 8px 25px;\n            background-color: #0273e7; /* primary color for background */\n            border: 1px solid #0273e7; /* border for the secondary button */\n            color: white; /* text color for the primary button */\n            border: none;\n            border-radius: 24px;\n            cursor: pointer;\n            margin-right: 8px;\n        }\n\n        .cancel-button {\n            margin-top: 8px;\n            background-color: white; \n            padding: 8px 25px;\n            color: #0273E7; /* Text color for the secondary button */\n            border: 1px solid #0273E7; /* Border for the secondary button */\n            border-radius: 24px;\n            cursor: pointer;\n        }\n\n        .need-help-success-message {\n            display: flex;\n            justify-content: center;\n        }\n  \n        .success-top-container {\n          display: flex;  \n          justify-content: center;  \n          align-items: center;      \n        } \n\n        .well-path-widget-wrapper div {\n            display: block;\n        }\n\n        .well-path-widget {\n            position: relative;\n            padding: 24px 15px;\n        }\n\n        .well-path-widget-row > div {\n            display: inline-block;\n            vertical-align: top;\n        }\n\n        .well-path-widget-row * {\n            line-height: initial;\n            letter-spacing: normal;\n            font-stretch: normal;\n        }\n\n        .well-path-widget .well-path-widget-close {\n            text-align: right;\n            width: 4.5%;\n            min-width: 25px;\n        }\n\n        .well-path-widget .well-path-widget-close img {\n            cursor: pointer;\n        }\n\n        .well-path-widget .well-path-widget-header {\n            color: #171b1f;\n            width: 95%;\n            max-width: calc(100% - 40px);\n            font-family: Metropolis Medium;\n            font-weight: 500;\n            font-size: 20px;\n            line-height: 32px;\n            text-align: left;\n        }\n\n        .well-path-widget .well-path-widget-body {\n            line-height: 22px;\n            font-family: 'Metropolis Regular';\n            font-size: 13px;\n            color: grey;\n            padding-top: 5px;\n            width: 60%;\n            text-align: left;\n        }\n\n        .well-path-widget .well-path-widget-links {\n            width: calc(39.5% - 15px);\n            vertical-align: top;\n            padding: 5px 0 0 15px;\n        }\n\n        .well-path-widget .well-path-widget-links .well-path-widget-link-wrap {\n            padding: 0 15px 5px 0px;\n            display: inline-block;\n            width: calc(50% - 15px);\n            min-width: 75px;\n            vertical-align: top;\n        }\n\n        .well-path-widget .well-path-widget-links .well-path-widget-link-row:last-child .well-path-widget-link-wrap {\n            padding-bottom: 0px;\n        }\n\n\n        .well-path-widget .well-path-widget-links span,\n        .well-path-widget .well-path-widget-links span:hover,\n        .well-path-widget .well-path-widget-links span:focus,\n        .well-path-widget .well-path-widget-links span:active {\n            color: #0073e6;\n            font-family: 'Metropolis Semi Bold';\n            font-weight: 600;\n            font-size: 14px;\n            line-height: 20px;\n            text-decoration: none;\n            display: initial;\n            cursor: pointer;\n        }\n\n        @media (max-width: 768px) {\n            .well-path-widget .well-path-widget-body,\n            .well-path-widget .well-path-widget-links {\n                width: 100%;\n            }\n\n            .well-path-widget .well-path-widget-links {\n                padding: 10px 0 0 0;\n            }\n        \n            .well-path-widget .well-path-widget-links .well-path-widget-link-wrap {\n                padding: 0 15px 5px 0;\n                width: 100%;\n            }\n\n            .well-path-widget .well-path-widget-links .well-path-widget-link-row:last-child .well-path-widget-link-wrap {\n                padding: 0 15px 5px 0;\n            }\n\n            .well-path-widget .well-path-widget-links .well-path-widget-link-row:last-child .well-path-widget-link-wrap:last-child {\n                padding-bottom: 0px;\n            }\n        }\n    ",document.head.appendChild(d),widgetLinks="";var c="";for(i=0;i<a.links.length;i++){var h=a.links[i],g=void 0!==h.email?"mailto:"+s(h.email):s(h.url);c+=p.replace("{href}",g).replace("{label}",s(h.label)),i%2==1&&(widgetLinks+=r.replace("{links}",c),c="")}c&&(widgetLinks+=r.replace("{links}",c)),widgetHtml=t.replace("{close_btn_src}",chrome.extension.getURL("icon-16-px-close.svg")).replace("{header}",s(a.header)).replace("{body}",s(a.body)).replace("{links}",widgetLinks),0===l.showNeedHelp&&(widgetHtml=widgetHtml.replace(n,"")),(o=document.createElement("div")).className="well-path-widget-wrapper",o.innerHTML=widgetHtml,document.body.appendChild(o),document.body.insertBefore(o,document.body.firstChild),e=!0,document.addEventListener("click",w)}(l);break;case"remove":c()}}),chrome.runtime.sendMessage({source:"well-path-widget",action:"ready"});var l=document.createElement("link");l.rel="stylesheet",l.href=chrome.extension.getURL("fonts/Metropolis.css"),document.head.appendChild(l)}()}();